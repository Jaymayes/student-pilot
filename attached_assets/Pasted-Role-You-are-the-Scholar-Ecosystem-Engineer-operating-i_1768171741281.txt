Role
You are the Scholar Ecosystem Engineer operating in Max Autonomous mode under CEO authority. Execute Sprint ZT3G-RERUN-001 to eliminate false positives, repair B2C/B2B funnels, and deliver a contradiction-free, second-confirmed “Definitive GO.” Post all telemetry and artifacts to A8 with checksum-verified round-trip.

Inputs
Gemini Executive Package (JSON):
[PASTE THE JSON OUTPUT FROM GEMINI HERE]

Run identifiers and headers
• RUN_ID = CEOSPRINT-20260111-REPUBLISH-ZT3G-RERUN-001 (use a new unique suffix if reused)
• Protocol: AGENT3_HANDSHAKE v27
• X-Trace-Id = RUN_ID.<component> on every request
• X-Idempotency-Key on all mutable calls

CEO approvals and guardrails
• A1 cookie fix APPROVED: Set-Cookie must include SameSite=None; Secure
• Port binding fixes APPROVED (24h): enforce host=0.0.0.0 on A3/A4/A5/A6/A8
• A6 production 500 regression: republish allowed and expected
• Stripe micro-charges APPROVED: verify capacity; auto-refund within 24h
• Idempotency rollout: 5% → 25% → 100% within 48h

Second-confirmation policy (anti–false-positive)
• Any PASS requires at least 2-of-3 (prefer 3-of-3):

HTTP 200 with X-Trace-Id in payload
Matching X-Trace-Id in logs
Ledger correlation (A8 POST+GET checksum and/or Stripe/fee ledger) • Browser-grade B2C: verify Set-Cookie SameSite=None; Secure prior to charge; use same cookie jar for refund • SLO: P95 ≤120ms for ≥10 minutes on /, /pricing, /browse and all health routes • Treat all prior statuses as Unconfirmed until re-verified
Phases (parallelize safely; target ≤60 minutes)

Phase -1: Republish & config enforcement
• Implement A1 cookie fix (SameSite=None; Secure)
• Enforce host=0.0.0.0 start commands for A3/A4/A5/A6/A8
• CRITICAL: Republish A6 immediately to resolve production 500 (stale deployment)
• Record Git SHAs and deployment timestamps to tests/perf/evidence/version_manifest.json

Phase 0: Inventory & Warmup (critical)
• Warmup: 50 sequential requests to A1 across /, /pricing, /browse, /health
• Probe health for A1–A8; collect status, latency, uptime, binding, secrets; save tests/perf/reports/system_map.json and {app}_health.json
• Save tests/perf/reports/a1_warmup_report.md

Phase 1: A8 wiring and telemetry
• Emit synthetic events with X-Trace-Id; require ≥99% acceptance and POST+GET checksum round-trip
• Save tests/perf/reports/a8_wiring_verdict.md

Phase 2: RL + HITL
• Verify RL: episode increments; exploration ≤0.001 or decreasing; demonstrate an error-correction loop
• Record at least one HITL approval for revenue-impacting or cross-workspace changes; append tests/perf/reports/hitl_approvals.log

Phase 3: A1 DB + cookie verification
• After warmup, target A1 P95 ≤120ms for ≥10 minutes
• Capture Set-Cookie headers; validate SameSite=None; Secure
• Save tests/perf/reports/a1_cookie_validation.md

Phase 4: A3 orchestration (v1.4-Unified)
• Run orchestration; confirm:

run_progress ≥1
cta_emitted ≥1
page_build_requested ≥1
page_published ≥1 • Correlate HTTP+Trace, logs, and A8 ledger; save tests/perf/reports/a3_orchestration_runlog.md
Phase 5: B2C funnel (browser-grade)
• Re-verify Stripe capacity; if remaining <5, pause and request HITL
• Execute $0.50 live charge using valid session cookie; then refund
• Capture HTTP+Trace, logs, and Stripe ledger with A8 GET+checksum
• Save tests/perf/evidence/b2c_checkout_trace.json; tests/perf/evidence/refund_confirmations.json; tests/perf/reports/b2c_flow_verdict.md

Phase 6: B2B funnel (provider lineage)
• Using A6, onboard provider and publish a listing (ensure A6 is republished first if 500 persists)
• Verify 3% platform fee and 4x AI markup in fee lineage with X-Trace-Id and A8 ingestion
• Confirm discoverability via A7 and visibility in A5
• Save tests/perf/evidence/fee_lineage.json and tests/perf/reports/b2b_flow_verdict.md

Phase 7: Performance sweep (SLO)
• Collect 10-minute latency samples and compute P95 for /, /pricing, /browse and health routes
• Save tests/perf/reports/perf_summary.md

Phase 8: SEO/A7
• Verify ≥2,908 URLs; validate sitemap and canonicals
• Trigger one new Auto Page Maker build and confirm A8 ingestion
• Save tests/perf/reports/seo_verdict.md

Phase 9: Governance and idempotency
• Enforce idempotency; record canary progression and coverage
• Save tests/perf/reports/idempotency_validation.md and tests/perf/reports/post_republish_diff.md

Phase 10: Finalization and second-confirmation summary
• Generate tests/perf/evidence/checksums.json (SHA256 for all artifacts)
• POST all artifacts to A8 and confirm GET round-trip with checksum match
• Produce tests/perf/reports/go_no_go_report.md mapped to Gemini.acceptance_criteria
• Summarize all 2-of-3 and 3-of-3 proofs in tests/perf/reports/ecosystem_double_confirm.md

Acceptance criteria (all must PASS)
• B2C: 2-of-3 (prefer 3-of-3) with cookie proof, Stripe ledger, and A8 round-trip
• B2B: 2-of-3 (prefer 3-of-3) with fee lineage (3% + 4x) and A8 correlation
• A1: Warm P95 ≤120ms for ≥10 minutes; cookie fix verified
• A3 orchestration: run_progress, cta_emitted, page_build_requested, page_published all ≥1 with trace/log/ledger proof
• A8 telemetry: ≥99% with POST+GET checksum confirmation
• A1–A8: health routes 200; bound to 0.0.0.0; secrets validated; A6 500 regression resolved
• SEO: ≥2,908 URLs reachable and at least one fresh page build ingested
• RL: episode increments; exploration ≤0.001 (or decreasing); error-correction loop demonstrated
• HITL: at least one approval recorded for revenue-impacting or cross-workspace changes
• Stripe safety: cap respected; stop if remaining <5; micro-charges refunded

Stop/rollback rules
• Stripe remaining <5 → pause charges and request HITL
• Any app fails to reach 200 after two redeploy attempts → rollback to last healthy Git SHA and escalate with logs
• P95 >120ms persists >10 minutes post-warmup and one optimize attempt → open performance incident; continue non-latency tasks

Artifacts (minimum set)
• system_map.json
• version_manifest.json
• {app}_health.json for A1–A8
• a1_warmup_report.md
• a1_cookie_validation.md
• a3_orchestration_runlog.md
• b2c_checkout_trace.json
• refund_confirmations.json
• fee_lineage.json
• perf_summary.md
• seo_verdict.md
• idempotency_validation.md
• post_republish_diff.md
• ecosystem_double_confirm.md
• go_no_go_report.md
• a8_wiring_verdict.md
• b2c_flow_verdict.md
• b2b_flow_verdict.md
• hitl_approvals.log
• checksums.json

Final console output and A8 post
• If all criteria pass: print “Attestation: VERIFIED LIVE (ZT3G-RERUN-001)” and post artifact index with checksums; confirm A8 GET round-trip
• If any fail: print “Attestation: UNVERIFIED (ZT3G-RERUN-001)” and post a remediation plan listing each failed check, root cause hypothesis, next action, owner, and ETA
END-REPLIT-AGENT-PROMPT

