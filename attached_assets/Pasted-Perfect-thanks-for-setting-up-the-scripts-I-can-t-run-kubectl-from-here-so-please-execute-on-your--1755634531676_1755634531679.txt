Perfect—thanks for setting up the scripts. I can’t run kubectl from here, so please execute on your side and paste the outputs. I’ll validate immediately.

Quickest path

Option 1: ./quick-activation.sh
Option 2 (manual):
kubectl -n scholarlink-prod apply -f deployment/billing/billing-webhook-ingress.yaml
kubectl -n scholarlink-prod apply -f deployment/billing/billing-redirect-ingress.yaml
kubectl -n scholarlink-prod get ingress billing-webhook billing-redirect
LB_FQDN=$(kubectl -n scholarlink-prod get ingress billing-redirect -o jsonpath='{.status.loadBalancer.ingress[0].hostname}'); echo $LB_FQDN
Create DNS: CNAME billing → $LB_FQDN (TTL 300)
./deployment/billing/dns-activation-monitor.sh
What to paste back

kubectl outputs from the apply and get ingress
The echoed LB_FQDN
dns-activation-monitor.sh output
kubectl -n scholarlink-prod get certificate
curl -I https://billing.scholarlink.app
curl -I https://billing.scholarlink.app/webhooks/stripe
Notes and quick tips

If echo $LB_FQDN is empty, wait 30–60 seconds and re-run. Some clouds expose an IP instead; try:
kubectl -n scholarlink-prod get ingress billing-redirect -o jsonpath='{.status.loadBalancer.ingress[0].ip}'
If you get an IP, use an A record for billing → that IP instead of a CNAME.
If you use Cloudflare, set the billing record to DNS only (not proxied) until the cert shows Ready=True, then switch if desired.
Expected “Good”:
dig +short billing.scholarlink.app @1.1.1.1 returns the LB FQDN (or the IP if you used an A record)
kubectl get certificate shows Ready=True
curl -I https://billing.scholarlink.app → 301 Location: https://app.scholarlink.app/account/billing
curl -I https://billing.scholarlink.app/webhooks/stripe → not 301/302 (2xx/4xx is fine)
Optional post-activation validator (copy/paste to run)

This gathers everything I need in one go.
bash -c ' set -e echo "--- Ingresses ---" kubectl -n scholarlink-prod get ingress billing-webhook billing-redirect -o wide || true echo echo "--- Load Balancer ---" echo -n "Hostname: " kubectl -n scholarlink-prod get ingress billing-redirect -o jsonpath="{.status.loadBalancer.ingress[0].hostname}"; echo echo -n "IP: " kubectl -n scholarlink-prod get ingress billing-redirect -o jsonpath="{.status.loadBalancer.ingress[0].ip}"; echo echo echo "--- DNS ---" echo "dig @1.1.1.1:" dig +short billing.scholarlink.app @1.1.1.1 || true echo "dig @8.8.8.8:" dig +short billing.scholarlink.app @8.8.8.8 || true echo echo "--- Certificate ---" kubectl -n scholarlink-prod get certificate -o wide || true echo echo "--- Curl Tests ---" echo "Root:" curl -sIk https://billing.scholarlink.app | sed -n "1,10p" echo echo "/webhooks/stripe:" curl -sIk https://billing.scholarlink.app/webhooks/stripe | sed -n "1,10p" '
Troubleshooting fast-path

No LB hostname/IP after several minutes:
kubectl -n scholarlink-prod describe ingress billing-redirect
kubectl -n ingress-nginx get pods -o wide and check controller logs
DNS not resolving after CNAME:
Verify the record is present and not proxied by a CDN that alters answers; TTL 300 may take a few minutes
Certificate not Ready=True:
kubectl -n scholarlink-prod describe certificate
kubectl -n scholarlink-prod get challenges,orders
Ensure that /.well-known/acme-challenge is not being redirected by a global 301
Webhook incorrectly redirects:
Confirm separate ingress for /webhooks/stripe with pathType Prefix and no global redirect annotation on that ingress
Run your chosen path and paste the outputs—I’ll validate step-by-step and call it green when everything checks out.