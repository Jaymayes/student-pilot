AGENT3 UNIFIED MASTER PROMPT v1.1 — Command Center Telemetry + Launch

READ ME FIRST — HOW TO USE THIS PROMPT

You are Agent3 embedded within a single application in the Scholar AI Advisor ecosystem.
Only execute the section that matches your application. Ignore all other sections.
Before any action, self-identify and lock your scope:
Determine your app_id from the values below.
Locate your matching SECTION_START and SECTION_END markers.
Execute only the directives inside your section.
All apps must report data to the central aggregator and ensure visibility in the Command Center frontend.
APP REGISTRY

scholar_auth → https://scholar-auth-jamarrlmayes.replit.app
scholarship_api → https://scholarship-api-jamarrlmayes.replit.app
scholarship_agent → https://scholarship-agent-jamarrlmayes.replit.app
scholarship_sage → https://scholarship-sage-jamarrlmayes.replit.app
student_pilot → https://student-pilot-jamarrlmayes.replit.app
provider_register → https://provider-register-jamarrlmayes.replit.app
auto_page_maker → https://auto-page-maker-jamarrlmayes.replit.app
auto_com_center → https://auto-com-center-jamarrlmayes.replit.app
GLOBAL MISSION AND SUCCESS CRITERIA

Prime directive: Launch and drive traffic and revenue while ensuring all telemetry is reported to and monitored by the Command Center and displayed on the frontend.
Success is defined as: • Every app continuously reporting telemetry events to the central aggregator. • The Command Center showing GREEN or ACTIVE tiles with real data. • B2C funnel events flowing (page_view → application_started → application_submitted → payment_succeeded). • B2B supply growth events flowing (provider_registered → scholarship_published). • SEO engine generating organic traffic (page_published, page_view). • Growth engine campaigns launched (campaign_launched, campaign_click).
GLOBAL PROTOCOL: ONE TRUTH v1.0 (REQUIRED FOR ALL APPS)

Central Aggregator POST endpoint (ingest): • https://scholarship-api-jamarrlmayes.replit.app/api/analytics/events
Event envelope (exact): • { "events": [ { "event_type": string, "app_id": string, "env": "prod", "ts_utc": ISO-8601 UTC string, "properties": object } ] }
Required conventions: • snake_case keys only. • env must be "prod". • ts_utc must be ISO-8601 UTC (e.g., 2025-12-01T12:40:22Z). • Include properties.app_base_url with your app’s base URL. • No plaintext PII. Use user_id_hash (salted SHA-256), source_ip_masked (/24 for IPv4, /64 for IPv6). Include session_id and request_id where applicable. • Preserve UTM fields when present: utm_source, utm_medium, utm_campaign, utm_content, utm_term.
Base events required for all apps: • app_started { uptime_sec=0, version, service_ok=true, p95_ms (if server), error_rate_pct (if server) } • app_heartbeat { uptime_sec, service_ok, p95_ms, error_rate_pct } emitted every 60 seconds
Reliability requirements: • On 5xx/429/timeout: queue locally, exponential backoff (min 5s, max 5m), jitter, retry until delivered. Persist queue across restarts. • De-duplicate with a stable event_id hash in properties if you re-send.
SLO counting rules: • Count 5xx and 404 API route misses as errors in error_rate_pct. • Do not count 400/401/403/429 as SLO errors.
Frontend Display Contract: • The Command Center frontend reads from scholarship_api executive endpoints. Your job is to ensure your app’s events reach the aggregator and light up the appropriate tiles.
GLOBAL IDENTIFY AND REPORT FORMAT (ALL REPORTS)

Before any work, print one line to logs/stdout: IDENTIFY: APP={app_id} | APP_BASE_URL={base_url} | ROLE={role} | ENV=prod
Include the same APP and APP_BASE_URL in the header of any operational verification report you generate.
GLOBAL TILE MAPPING (FOR YOUR REFERENCE)

SLO: app_started, app_heartbeat
B2C: page_view, user_signed_up, application_started, application_submitted
B2B: provider_registered, scholarship_published
SEO: page_published, page_view, scholarship_ingested
Growth: campaign_launched, campaign_click, landing_page_created
Trust: bias_check_performed, model_inference_evaluated, nps_recorded (optional)
Finance: credit_purchased, payment_succeeded (payment_provider=stripe or other)
SECTION_START[scholar_auth]
APP: scholar_auth | APP_BASE_URL: https://scholar-auth-jamarrlmayes.replit.app | ROLE: Auth Gateway

Identify
Print IDENTIFY line exactly as defined above.
2. Emit base events

app_started on boot; app_heartbeat every 60s with p95_ms and error_rate_pct.
3. Emit business events (no plaintext PII)

user_signed_up { user_id_hash, referral_source, utm_*, is_minor, ferpa_protected, session_id, request_id, source_ip_masked, method, mfa_used }
user_logged_in { user_id_hash, method, mfa_used, is_minor, ferpa_protected, session_id, request_id, source_ip_masked }
login_failed (optional for Trust) { reason, method, source_ip_masked, request_id }
4. Frontend visibility

These events power B2C and Trust tiles.
Ensure properties.app_base_url is set.
5. Launch/Revenue support

Ensure UTM capture on sign-up and login flows to attribute downstream conversions.
6. Verification

Confirm central aggregator acknowledges events and Command Center shows B2C and Trust tile activity.
SECTION_END[scholar_auth]

SECTION_START[scholarship_api]
APP: scholarship_api | APP_BASE_URL: https://scholarship-api-jamarrlmayes.replit.app | ROLE: Central Aggregator (THE HEART)

Identify
Print IDENTIFY line.
2. Ingest and schema enforcement

Accept POST to /api/analytics/events with the global envelope and conventions.
Validate payload; reject or queue with clear errors for non-compliance; do not store plaintext PII.
3. Executive endpoints for Command Center frontend

Provide: • GET /api/executive/central-stats?window=24h computes tiles: data.slo, data.b2c, data.b2b, data.seo, data.growth, data.trust, data.finance, data.overallStatus • GET /api/kpis/today and /api/kpis/rollup?days=N for financial and event KPIs • GET /api/stats?window=24h&group=app for app-level counts
Include data._meta with {protocol="ONE_TRUTH", version="1.0", source="central_aggregator", central_aggregator=APP_BASE_URL}
4. Emit base events

app_started and app_heartbeat to contribute to SLO.
5. Launch/Revenue support

Ensure Finance tile computes from payment_succeeded and credit_purchased; B2C/B2B/SEO/Growth/Trust aggregate correctly.
6. Verification

Locally test ingest and executive endpoints; confirm Command Center tiles render and update.
SECTION_END[scholarship_api]

SECTION_START[scholarship_agent]
APP: scholarship_agent | APP_BASE_URL: https://scholarship-agent-jamarrlmayes.replit.app | ROLE: Growth Engine (Campaign Launcher)

Identify
Print IDENTIFY line.
2. Emit base events

app_started; app_heartbeat every 60s.
3. Emit growth events

campaign_launched { campaign_id, channel, audience, budget_cents, utm_*, creative_ids[], landing_pages[], start_utc, end_utc }
campaign_click { campaign_id, landing_page, utm_*, referrer, session_id, request_id }
landing_page_created { campaign_id, page_url, template_id, topic, has_json_ld, indexable }
4. Frontend visibility

Powers Growth tile; ensures UTM chains feed B2C and SEO tiles via downstream traffic.
5. Launch actions to drive traffic now

Launch at least two campaigns immediately (e.g., Scholarship of the Day, Top Deadlines) with UTM tags and landing pages on auto_page_maker.
6. Verification

Confirm aggregator shows Growth tile as ACTIVE with campaign_launched counts; verify campaign_clicks appear within 24h.
SECTION_END[scholarship_agent]

SECTION_START[scholarship_sage]
APP: scholarship_sage | APP_BASE_URL: https://scholarship-sage-jamarrlmayes.replit.app | ROLE: Recommendations + Responsible AI

Identify
Print IDENTIFY line.
2. Emit base events

app_started; app_heartbeat every 60s.
3. Emit recommendation and trust events

recommendation_served { user_id_hash, scholarship_id, score, rank, explanation_available, session_id, request_id }
model_inference_evaluated { model_name, version, latency_ms, success, input_shape, output_shape }
bias_check_performed { check_id, model_name, metric, value, threshold, result }
4. Frontend visibility

Powers B2C and Trust tiles; ensure properties.app_base_url set.
5. Launch actions

Begin serving recommendations to drive application_started events on student_pilot.
6. Verification

Confirm Trust tile shows bias checks; B2C shows recommendation activity contribution.
SECTION_END[scholarship_sage]

SECTION_START[student_pilot]
APP: student_pilot | APP_BASE_URL: https://student-pilot-jamarrlmayes.replit.app | ROLE: B2C Core + Payments

Identify
Print IDENTIFY line.
2. Emit base events

app_started; app_heartbeat every 60s with p95_ms and error_rate_pct.
3. Emit funnel and finance events

page_view { page, referrer, utm_*, session_id, request_id }
application_started { session_id, user_id_hash, scholarship_id }
application_submitted { session_id, user_id_hash, scholarship_id, match_score }
credit_purchased { user_id_hash, credits, amount_cents, currency, session_id, utm_* }
payment_succeeded { user_id_hash, amount_cents, currency, payment_provider="stripe", charge_id_hash, session_id }
4. Frontend visibility

Powers B2C and Finance tiles. Ensure Finance tile lights up on first payment_succeeded.
5. Launch actions to drive revenue now

Ensure Stripe webhook live; set billing rollout to 100% if safe; confirm first successful payment to move Finance tile from NO_DATA to GREEN.
6. Verification

Validate aggregator shows B2C funnel events and Finance metrics.
SECTION_END[student_pilot]

SECTION_START[provider_register]
APP: provider_register | APP_BASE_URL: https://provider-register-jamarrlmayes.replit.app | ROLE: B2B Providers + Supply

Identify
Print IDENTIFY line.
2. Emit base events

app_started; app_heartbeat every 60s.
3. Emit B2B and supply events

provider_registered { provider_id_hash, org_type, referral_source, utm_*, session_id, request_id }
provider_profile_completed { provider_id_hash, fields_completed, session_id, request_id }
scholarship_published { scholarship_id, title, award_cents, cohort_size, eligibility_tags, deadline_utc, platform_fee_cents }
4. Frontend visibility

Powers B2B and Finance tiles; include app_base_url.
5. Launch actions

Onboard at least 5 providers; publish at least 10 scholarships to move B2B tile to ACTIVE/GREEN.
6. Verification

Confirm aggregator shows B2B counts and platform_fee_cents feeding Finance rollups.
SECTION_END[provider_register]

SECTION_START[auto_page_maker]
APP: auto_page_maker | APP_BASE_URL: https://auto-page-maker-jamarrlmayes.replit.app | ROLE: SEO Engine

Identify
Print IDENTIFY line.
2. Emit base events

app_started; app_heartbeat every 60s with p95_ms and error_rate_pct.
3. Emit SEO and content events

page_published { slug, topic, word_count, internal_links, canonical_url, has_json_ld, indexable }
page_view { page, referrer, utm_*, session_id, request_id }
scholarship_ingested { source, count, parsing_time_ms }
4. Frontend visibility

Powers SEO tile; downstream page_view contributes to Growth/B2C.
5. Launch actions to drive traffic now

Publish ≥100 indexable pages with JSON-LD, sitemap.xml updates, and internal linking.
6. Verification

Confirm SEO tile shows GREEN and page_view counts trend up.
SECTION_END[auto_page_maker]

SECTION_START[auto_com_center]
APP: auto_com_center | APP_BASE_URL: https://auto-com-center-jamarrlmayes.replit.app | ROLE: Command Center (THE EYES)

Identify
Print IDENTIFY line.
2. Data sourcing for frontend display

Poll scholarship_api executive endpoints: • GET /api/executive/central-stats?window=24h for tiles • GET /api/kpis/today and /api/kpis/rollup?days=N for KPI cards • GET /api/stats?window=24h&group=app for app drill-down
Do not invent data. The Command Center is a pure display layer.
3. Emit base events

app_started; app_heartbeat every 60s.
Optional: dashboard_rendered { tiles_loaded, latency_ms } for Growth insights.
4. Frontend contract and quality

Render tiles SLO, B2C, B2B, SEO, Growth, Trust, Finance with statuses and key metrics from the aggregator payload fields.
Show overallStatus and ecosystemMetrics (totalEvents, appsReporting).
All reports and on-screen banners must include: APP: auto_com_center | APP_BASE_URL: https://auto-com-center-jamarrlmayes.replit.app
5. Launch actions

Continuously display and refresh tile statuses to guide operations. Flag NO_DATA tiles and surfaces next actions.
6. Verification

Confirm tile updates occur within 60 seconds of new events.
SECTION_END[auto_com_center]

EXECUTION CHECKLIST (ALL APPS, RUN INSIDE YOUR SECTION ONLY)

Self-identify: emit the IDENTIFY line and app_started event.
Start heartbeat: emit app_heartbeat every 60s with SLO metrics.
Emit your business events as defined; include app_base_url and UTM fields when available.
Reliability: queue and retry on ingest errors; ensure no data loss.
Frontend visibility: verify that scholarship_api exposes your contributions via executive endpoints and that auto_com_center displays your tile(s).
Output an OPERATIONAL VERIFICATION REPORT with:
Header: APP: {app_id} | APP_BASE_URL: {base_url} | ROLE: {role} | ENV=prod
Protocol ONE TRUTH v1.0 status
Tile contributions and statuses
Last-24h event counts and types
Any blockers and concrete next actions to drive traffic and revenue now
IMPORTANT SCOPE RULE

If you are Agent3 inside one app, you must ignore every other app’s section. Only implement and operate your app’s directives.
If any field or event is unavailable, degrade gracefully, log the missing piece in your report, and proceed with what is available. Do not stall the pipeline.
END OF AGENT3 UNIFIED MASTER PROMPT v1.1