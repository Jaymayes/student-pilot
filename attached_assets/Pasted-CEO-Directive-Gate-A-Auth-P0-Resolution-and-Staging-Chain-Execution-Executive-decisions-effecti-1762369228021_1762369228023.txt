CEO Directive: Gate A Auth P0 Resolution and Staging-Chain Execution

Executive decisions (effective immediately)

scholar_auth: Proceed with Option A.1 cold restart now. Success window: 15 minutes from restart complete to green checks (below). If any check fails, pivot to Option B (staging IdP fallback) immediately with 60-minute delivery of STAGING_IDP_PARITY_EVIDENCE.md. Production remains locked.
Chain execution: Upon scholar_auth PASS, proceed with provider_register Order B → scholarship_api Order 4 → auto_page_maker +2 pages. Evidence-first at each step.
Messaging: auto_com_center remains locked to production traffic; staging validation is GO upon secrets delivery and auth PASS.
scholar_auth — P0 runbook and success criteria

Action now:
Kill Node.js process to force cold restart.
Ensure initializeOIDCProvider() reads clients via adapter; clients[] must not be passed to Provider constructor.
Rebuild health checks to include oidc_clients and JWKS reachability.
2. Success criteria (must all pass within 15 minutes of restart):

/health = 200 and includes oidc_clients > 0; JWKS reachable; DB connected; cache warm.
PKCE S256 flow completes for provider_register with consent page render and code exchange.
id_token and access_token include roles claim; aud/iss correct; exp/nbf valid.
Sentry shows 0 “invalid_client” in last 5-minute window; request_id traces propagate to scholarship_api.
Rate limits active; token introspection returns active for fresh tokens.
3. If fail any criterion:

Escalate “Auth-P0-FAIL” to scholarship_agent; execute Option B: stand up staging IdP (Keycloak/Auth0) with role parity and 71 client redirects. Deliver STAGING_IDP_PARITY_EVIDENCE.md in 60 minutes, then resume chain on staging only.
Infra DRI — blocking items and deadlines (T+10 hard stop)

Deliver to secrets manager:
SENTRY_DSN (raw URL) for all 8 apps
AWS SQS and DLQ credentials + IAM policy for auto_com_center
Postmark and Twilio secrets for auto_com_center
DNS/A2P evidence:
SPF, DKIM, DMARC for mail.scholaraiadvisor.com
A2P brand/campaign approval or ETA
Post evidence to e2e/reports/infra/SECRETS_AND_DNS_EVIDENCE.md
app-by-app directives (evidence-first; include required APP_NAME | APP_BASE_URL headers)

provider_register: GO immediately after scholar_auth PASS

Deliver ORDER_B_EVIDENCE.md within 20 minutes of auth PASS
Must include: PKCE flow screenshots; JWT roles=[“Provider”]; CRUD proof via scholarship_api; P95 ≤120ms on ≥20 requests; error <0.1%; request_id→Sentry links; /health=200
scholarship_api: GO (Order 4) upon provider_register evidence

Deliver ORDER_4_EVIDENCE.md within 20 minutes of trigger
Validate: reads P95 ≤120ms; writes P95 ≤150ms; error <0.1%; event emission proof (scholarship_created→auto_page_maker); /health=200; request_id traces
RDS migration plan due Nov 7, 22:00 UTC: e2e/reports/scholarship_api/RDS_MIGRATION_PLAN.md
auto_page_maker: Armed; execute +2 pages

SLA: Execute <60s after Order 4 trigger; evidence <10 minutes
Evidence: sitemap diff; IndexNow receipts; CWV p75 GREEN; P95 ≤120ms; request_id chain; Sentry correlation
auto_com_center: GO for staging validation upon secrets

Validate: Unsubscribe SLA <5s; E2E P95 ≤120ms; DLQ=0; Prometheus queue_depth; request_id tracing; 10 Postmark sandbox sends
Production messaging gate remains locked pending CEO war-room sign-off and all gate criteria below
scholarship_sage: Start 48-hour observe-only baseline on M2M secret receipt

Deliver baseline_metrics_evidence.md at +48h with precision@5 method, early metrics, coverage%, matchReasons samples, request_id traces
student_pilot: Maintain SLOs; continue weekly cohort reporting; WCAG 2.1 AA Sprint 2 (Nov 11–25), final report Nov 25

Keep P95 ≤120ms, error <0.1%, uptime ≥99.9%; publish reports on schedule
scholarship_agent: Monitoring only

Alert on any staging-chain failure; enforce human-in-the-loop escalation; compile checkpoint summaries at T+10, T+30, T+50
Production messaging gate (remains locked)
Unlock requires:

DNS/A2P: SPF/DKIM/DMARC validated + A2P brand/campaign approved (evidence posted)
scholar_auth: P0 PASS and 24h soak with 0 “invalid_client” regressions
auto_com_center: Staging validation PASS with artifacts
Centralized observability: Sentry traces with request_id across all 8 apps (10% sampling, PII redaction)
CEO explicit sign-off; then controlled 1% ramp
KPI guardrails to enforce during chain

P95 latency ≤120ms (read), ≤150ms (write where applicable)
Error rate <0.1%
Uptime ≥99.9%
SEO: auto_page_maker CWV p75 GREEN; +2 pages executed per trigger
B2B: provider_register converts first 10–20 verified providers; 100–200 listings target
B2C: activation ≥50%, median time-to-activation ≤24h (staging baseline)
Timeline reaffirmation (for MVP path and ARR plan)

Phase 1 (Feature freeze & integration): through Nov 25, 2025
Phase 2 (End-to-end testing & stabilization): through Dec 9, 2025
Phase 3 (Go-live): Dec 16, 2025; revenue generation begins post-launch
Architecture lifespan: 3–5 years; revenue durability to ~Q4 2028–Q4 2030
Risk notes and mitigations

Auth fragility: Cold restart first; staging IdP fallback ready; strict evidence gating
A2P/DNS timing: Treat as critical path; escalate if approvals slip
Observability gaps: No ramps without Sentry DSN and request_id chain verified
Required confirmations

Auth DRI: “ACK – Cold restart initiated” with timestamps; post PASS/FAIL evidence within 15 minutes of restart completion
Infra DRI: “ACK – Secrets & DNS/A2P evidence posted” with link to SECRETS_AND_DNS_EVIDENCE.md
provider_register, scholarship_api, auto_page_maker, auto_com_center, scholarship_sage, student_pilot, scholarship_agent: “ACK – Plan received” and ETA restatements per above
This directive aligns with the prime objective: protect the SEO flywheel and SLO guardrails while unblocking the staging chain, preserving the path to profitable ARR. Execute with urgency and evidence-first discipline.