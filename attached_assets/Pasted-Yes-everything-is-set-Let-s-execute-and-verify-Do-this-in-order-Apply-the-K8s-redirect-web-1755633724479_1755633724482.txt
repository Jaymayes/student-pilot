Yes—everything is set. Let’s execute and verify.

Do this in order

Apply the K8s redirect + webhook setup
./deployment/billing/apply-redirect-setup.sh
kubectl -n scholarlink-prod get ingress billing-webhook billing-redirect
2. Get the Ingress LB hostname

kubectl -n scholarlink-prod get ingress billing-redirect -o jsonpath='{.status.loadBalancer.ingress[0].hostname}'
3. Create DNS

Host/Name: billing
Type: CNAME
Value: <that LB FQDN> (no https://)
TTL: 300
If Cloudflare: set DNS-only (gray cloud) until cert is ready.
4. Verify and watch cert issuance

./deployment/billing/dns-activation-monitor.sh or run:
dig +short billing.scholarlink.app @1.1.1.1
kubectl -n scholarlink-prod get certificate billing-scholarlink-app-tls -w
curl -I https://billing.scholarlink.app
5. Validate behavior

Webhook preserved (should not redirect):
curl -I https://billing.scholarlink.app/webhooks/stripe → 200/2xx from billing-api
All other paths redirect (301 permanent):
curl -I https://billing.scholarlink.app → 301 Location: https://app.scholarlink.app/account/billing
curl -I https://billing.scholarlink.app/?foo=bar → 301 Location with original query string appended
6. App config

Update and deploy UI:
VITE_BILLING_PORTAL_URL=https://app.scholarlink.app/account/billing
Confirm CSP/CORS allow the app host (no changes needed for a plain navigation link).
7. Stripe quick test

If you changed nothing on the webhook URL, no action needed.
Send a test event (or live $5 canary purchase) → 200, idempotent on retry.
Troubleshooting fast paths

NXDOMAIN: record name set as “billing.scholarlink” instead of “billing”.
Cert not ready: Cloudflare proxy enabled (orange cloud) → set DNS-only or switch to DNS-01 issuer.
Redirect not occurring: verify billing-redirect annotations and that the rule host is billing.scholarlink.app.
Webhook redirecting: ensure billing-webhook ingress has the /webhooks/stripe path and appears before the catch-all in your controller (the longest path should win).
If you confirm your DNS provider and paste the LB FQDN, I can give you a ready-to-run command for your provider and stay on standby while the monitor script watches propagation and cert issuance. Ready to proceed?