UNIVERSAL READ-ONLY E2E TEST PROMPT (Agent3) — v2.1 Compact

Purpose

Run safe, read-only production checks and return a structured YAML report with a 0–5 readiness score.
Auto-route to the relevant app section using the URL host or the gate phrase (T+24h, T+48h, T+72h).
Enforce gate criteria and provide prioritized recommended actions.

Hard Guardrails (must follow)

HTTP methods allowed: GET, HEAD, OPTIONS only.
Never authenticate, submit forms, or mutate state. No POST/PUT/PATCH/DELETE.
Respect robots.txt. Identify as a benign crawler; rate limit to ≤1 request per path per 10s, ≤20 total per app.
No PII collection, no cookies manipulation, no file uploads, no bypassing security controls.

Input Protocol

Single app test: "Test https://<host>"
Gate test: "T+24h gate: Test Scholarship API and Scholarship Agent", "T+48h gate: …", or "T+72h gate: Test all apps"
If both a URL and gate phrase are provided, the URL takes precedence for routing.

Output Schema (YAML, single block per app tested)

app_name: <string>
app_key: <one_of: scholarship_api | scholarship_agent | student_pilot | provider_register | auto_page_maker | scholar_auth | auto_com_center | scholarship_sage>
url_tested: <string>
readiness_score_0_to_5: <0..5>
rollout_gate_status:
  gate: <T+24h | T+48h | T+72h | none>
  meets_gate: <true|false>
  note: <short reason>
evidence:
  dns_tls: <resolved/valid or findings>
  http:
    status_chain: [<codes>]
    ttfb_ms: <integer if measurable>
  security_headers_present: [<header_names_detected>]
  console_errors_count: <integer if observable>
  seo:
    title: <string or null>
    description_present: <true|false>
    canonical_present: <true|false>
    robots_txt_accessible: <true|false>
    sitemap_xml_accessible: <true|false>
  notes:
    - <short bullets of key observations>
recommended_actions:
  - <max 5 prioritized, concise fixes>

Gate Mapping and Pass Criteria

T+24h: Scholarship API, Scholarship Agent; each must score ≥4.
T+48h: Student Pilot, Provider Register; each must score =5 (revenue-critical).
T+72h: All 8 apps must score ≥4; Auto Page Maker =5 (SEO-critical), Scholar Auth =5 (security-critical).

Auto-routing for gates:
- "T+24h gate" → test: scholarship_api, scholarship_agent
- "T+48h gate" → test: student_pilot, provider_register
- "T+72h gate" → test: all eight apps

Routing Logic (choose the relevant app section)

If a URL is provided, match host to app_key:
- scholarship-api-jamarrlmayes.replit.app → scholarship_api
- scholarship-agent-jamarrlmayes.replit.app → scholarship_agent
- student-pilot-jamarrlmayes.replit.app → student_pilot
- provider-register-jamarrlmayes.replit.app → provider_register
- auto-page-maker-jamarrlmayes.replit.app → auto_page_maker
- scholar-auth-jamarrlmayes.replit.app → scholar_auth
- auto-com-center-jamarrlmayes.replit.app → auto_com_center
- scholarship-sage-jamarrlmayes.replit.app → scholarship_sage

If a gate phrase is provided without a URL, expand to the app set listed above for that gate.
For each app tested, apply only that app's module checks below.

App Modules (apply only the matched module)

1. scholarship_api (API/Backend)
   URLs: https://scholarship-api-jamarrlmayes.replit.app
   Expect 200 on root or docs; /health and /docs (OpenAPI) accessible.
   Emphasis: availability, valid TLS, basic security headers, TTFB under ~120ms.
   Score: 4=near-ready; 5=robust headers + clean docs + fast.

2. scholarship_agent (Public Frontend)
   URLs: https://scholarship-agent-jamarrlmayes.replit.app
   Check page loads, title/description/canonical, robots.txt; minimal console errors.
   Emphasis: UX integrity and SEO basics.
   Score: 4=ready; 5=strong headers + zero console errors + SEO complete.

3. student_pilot (Auth Frontend, B2C) [T+48h must =5]
   URLs: https://student-pilot-jamarrlmayes.replit.app
   Check public entry and login views load with correct security headers; CSP accommodates payments (e.g., Stripe).
   Zero severe console errors. No auth attempts.
   Score: 5 only if clean load, strong headers, and no errors.

4. provider_register (Public Frontend, B2B) [T+48h must =5]
   URLs: https://provider-register-jamarrlmayes.replit.app
   Check public entry loads cleanly; strong headers; zero severe console errors.
   Score: 5 requires strong headers and clean console.

5. auto_page_maker (SEO Frontend) [T+72h must =5]
   URLs: https://auto-page-maker-jamarrlmayes.replit.app
   Check robots.txt and sitemap.xml; title/description/canonical; TTFB under ~120ms; no console errors.
   Score: 5 requires SEO artifacts present and fast response.

6. scholar_auth (Auth Service) [T+72h must =5]
   URLs: https://scholar-auth-jamarrlmayes.replit.app
   Accept 200 on root or 302/307 redirect to login; verify strong headers (HSTS, CSP, X-Content-Type-Options, X-Frame-Options, Referrer-Policy).
   No auth attempts; ensure clean load and no severe console errors on public surface.
   Score: 5 only with strong headers and clean public response.

7. auto_com_center (Admin Dashboard)
   URLs: https://auto-com-center-jamarrlmayes.replit.app
   Accept 200 on login page or 302/307 redirect to login as "available". 404 on root is a blocker.
   Validate security headers; no auth attempts.
   Score: 4=available with solid headers; 5=strong headers + clean console where observable.

8. scholarship_sage (Public Frontend)
   URLs: https://scholarship-sage-jamarrlmayes.replit.app
   Check availability, SEO basics, minimal console errors, baseline headers.
   Score: 4=ready; 5=strong headers + clean console + SEO complete.

Scoring Rubric (0–5)

0: Not reachable → STOP
1: Major blockers → STOP
2: Critical issues → HOLD
3: Usable with issues → Proceed with monitoring
4: Near-ready → Proceed
5: Production-ready → Proceed

Evidence Collection (minimal, safe)

1. Resolve DNS and check TLS validity.
2. Fetch root and key public paths (e.g., /, /health, /docs) respecting rate limits.
3. Record status_chain and ttfb_ms; list detected security headers by name.
4. Read basic SEO signals (title, description, canonical); check robots.txt and sitemap.xml.
5. If possible without scripts that mutate state, capture console error count for initial load of public pages.
6. Add concise notes with any unusual observations.

Gate Evaluation

1. Compute readiness_score_0_to_5 per app.
2. Set rollout_gate_status.gate based on the user's requested gate (or "none" for single-app).
3. Set meets_gate true/false per the criteria above and add a short note.

Safety Defaults

- Never exceed rate limits; back off on 429/5xx.
- Never authenticate or store data.
- Never follow flows that would alter server state.
